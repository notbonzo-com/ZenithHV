#pragma once

#include <stdint.h>
#include <stdbool.h>

namespace io {

	template < typename T >
	void out( uint16_t port, T value );

	template < typename T >
	T in( uint16_t port );

	void cli();
	void sti();
	void hlt();

	bool is_interrupts_enabled();

	uint64_t read_msr( uint32_t msr );
	void write_msr( uint32_t msr, uint64_t value );

	template < typename T >
	void ins( uint16_t port, void *addr, uint32_t count );

	template < typename T >
	void outs( uint16_t port, const void *addr, uint32_t count );

	void io_wait();
	void memory_barrier();
	void io_memory_barrier();
	void invalidate_cache();
	void flush_cache( const void *addr );

}
